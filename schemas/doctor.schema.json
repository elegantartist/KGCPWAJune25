{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://keepgoingcare.com.au/schemas/doctor.schema.json",
  "title": "KGC Doctor Entity",
  "description": "Healthcare provider entity for Keep Going Care platform",
  "type": "object",
  "properties": {
    "id": {
      "type": "integer",
      "description": "Primary key identifier",
      "minimum": 1
    },
    "uin": {
      "type": "string",
      "description": "Unique Identity Number in format KGC-DOC-XXX",
      "pattern": "^KGC-DOC-\\d{3}$",
      "examples": ["KGC-DOC-001"]
    },
    "name": {
      "type": "string",
      "description": "Full name of the doctor",
      "minLength": 1,
      "maxLength": 255
    },
    "email": {
      "type": "string",
      "format": "email",
      "description": "Email address for authentication and notifications",
      "examples": ["marijke.collins@keepgoingcare.com"]
    },
    "roleId": {
      "type": "integer",
      "description": "Role identifier (2 = doctor)",
      "const": 2
    },
    "phoneNumber": {
      "type": "string",
      "description": "Australian phone number for SMS authentication",
      "pattern": "^(\\+61|0)[2-9]\\d{8}$"
    },
    "joinedDate": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when doctor account was created"
    },
    "isActive": {
      "type": "boolean",
      "description": "Whether the doctor account is currently active",
      "default": true
    },
    "lastLogin": {
      "type": ["string", "null"],
      "format": "date-time",
      "description": "Timestamp of last successful login"
    },
    "createdByUserId": {
      "type": "integer",
      "description": "ID of the admin who created this doctor account",
      "minimum": 1
    },
    "uinSequence": {
      "type": "integer",
      "description": "Sequential number for doctor UIN generation",
      "minimum": 1
    },
    "specialization": {
      "type": "string",
      "description": "Medical specialization or field of practice",
      "examples": ["General Practice", "Cardiology", "Endocrinology"]
    },
    "licenseNumber": {
      "type": "string",
      "description": "Medical license number (Australian AHPRA registration)",
      "pattern": "^[A-Z]{3}\\d{10}$"
    }
  },
  "required": [
    "id",
    "uin",
    "name", 
    "email",
    "roleId",
    "phoneNumber",
    "joinedDate",
    "isActive",
    "createdByUserId"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "id": 2,
      "uin": "KGC-DOC-001",
      "name": "Dr. Marijke Collins",
      "email": "marijke.collins@keepgoingcare.com",
      "roleId": 2,
      "phoneNumber": "+61487654321",
      "joinedDate": "2025-01-15T09:00:00Z",
      "isActive": true,
      "lastLogin": "2025-08-20T10:15:00Z",
      "createdByUserId": 1,
      "uinSequence": 1,
      "specialization": "General Practice",
      "licenseNumber": "MED1234567890"
    }
  ]
}